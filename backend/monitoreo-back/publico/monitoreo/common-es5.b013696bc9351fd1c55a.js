function _defineProperties(n,e){for(var l=0;l<e.length;l++){var t=e[l];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function _createClass(n,e,l){return e&&_defineProperties(n.prototype,e),l&&_defineProperties(n,l),n}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"1kYY":function(n,e,l){"use strict";l.d(e,"a",(function(){return t}));var t=function n(){_classCallCheck(this,n)}},"A+E5":function(n,e,l){"use strict";l.d(e,"a",(function(){return t})),l("M3yp");var t=function n(){_classCallCheck(this,n)}},JWQZ:function(n,e,l){"use strict";var t=l("8Y7J"),i=l("EpeG"),a=l("SVse"),r=t["\u0275crt"]({encapsulation:0,styles:[".webcam-wrapper[_ngcontent-%COMP%]{display:inline-block;position:relative;line-height:0}.webcam-wrapper[_ngcontent-%COMP%]   video.mirrored[_ngcontent-%COMP%]{transform:scale(-1,1)}.webcam-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:none}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.1);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE9UlEQVR42u2aT2hdRRTGf+cRQqghSqihdBFDkRISK2KDfzDWxHaRQHEhaINKqa1gKQhd6EZLN+IidCH+Q0oWIkVRC21BQxXRitVaSbKoJSGtYGoK2tQ/tU1jY5v0c5F54Xl7b/KSO/PyEt+3e5f75p7zzZwzZ74zUEIJJfyfYaEGllQGVAGZlENdBy6Z2cSiYFTSKkkfS/pH/nBF0kFJdUW9AiRVASeAukD8DgNrzOySrwEzng18KaDzALXuG8W3AiStAvqBisBRNg40mtlPxbYCOgvgPO4bncWW+JpVeDQXRQhIygDfA00F5r0XuNfMrgclQFI98DDQCNQA5ZFXqoCWBVp8XwHRHeEqcN7loy/NbHBesyqpQ1KfFj/6nC+ZvFaApFrgPaCZpYVvgCfNbDiRAElNwGFg+RIt/X8H2s2s9wYCJDUAR4HqJX7++RN40MwGpgmQVAH0AQ2BPz4AHHPl8nBOAqtyFWQjsA6oL4Ada81sPDv7uwImod8kvSJp9RyS8O2SXnb/DYVd2Y9VSroQ4ANXJO2WVJmixqh0kzMWwL4LkiqRtDnA4D1zmfE8j9g9AezcnAHaPcfXdbfdnPZ2Yps6+DwAvO/Z1naTdApY7Xng48BDZnY1MpMVQBuw3iXc5Tnb0wBwBPjUzP6eoezuArZ6svM0geJLkvZEYnl3nkntoqROSbckSW2Suj3ZOIangc7GPJuUtNGdFIfmMeavktoSSKiW9LMPw30Q8JqkekmjCbOZRhuclLQjgYSNxUBAj6RyZ9ATgUJpUtJTCSR8vpAEXHAyWK5BXYFIGHOlepSAloUk4NEYgyoknQhEwhFJ0e8h6VSaQeerCb5uZgdi9utxYBNwOUD93hIVXswM4INCi6K9wAszFC2DwLOBDjHbYp59karIUnRdzYy/3ClqVklaUhfwTICj7K25OqA7a4wWagVsm4Me/xzwg2cCqqONFzO7DPxSCAJi436GUBgHHguQD2oTlJ55oSzP9ybccsttSJw1szdjFOSnI/8dTCGZHwcORp4Nx7y3B1iZ8/sm4MW8/Euxg5wIsS/HaAp3zeP4/G7obRDXI4jiTIA22H7Xdc7X+S3A5lC7QBQ357aq3VAjCeSkwUfAJrfvz+R8A9ADLAtZB+TinpjC5JMA+//jwPZZnF8G7J+L8z4IWB/zbG+gIujVWfLBW/NStVMmqaG4POJRsIjix7h8IGnLQuoBbQki5sVAJHyYm7YkNaRRtXwQ8G1cHpX0iKRrgUjYno17Sf0LrQhJUkdCeHWkVITGJI0k1QeS3ikGSUzOyJUJJNznYneuOCnpTldcxa2kP3xJYqOeSDjqZG8ShJLnE8TTuMS6Iyu1BW7djZqkfo9N0QOuYJmYQddfB7RG+gLTNzqAY9FrL+5/nwEbvDdJJe3zzOrhNP3AWRqmk55t3ZcBuj3b2gb0Sbrbo/NNzk7fFzu7s/E5EiC+rrmeQU0Kx2skvRFoOx2ZzlmSdgbsw49JetvtBpk8nM64d/cGbNtJ0s7cGyJlwHeEv+t3nqnLSgPAUOSGyG3AHUxdzqoJbEcvcL+ZTeTeEapzJKxgaeOcc/7Mf06D7kFrguS0VDAMtGadv+E47DT9tcChJej8ISfpD+abgTe45uOkFi8mnQ+JBVQ+d4VXuOptjavcyot8pq86mfwk8LWZnaOEEkoooYQSSojDv8AhQNeGfe0jAAAAAElFTkSuQmCC);background-repeat:no-repeat;border-radius:5px;position:absolute;right:13px;top:10px;height:48px;width:48px;background-size:80%;cursor:pointer;background-position:center;transition:background-color .2s}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.18)}"],data:{}});function o(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,0,"div",[["class","camera-switch"]],null,[[null,"click"]],(function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.rotateVideoInput(!0)&&t),t}),null,null))],null,null)}function u(n){return t["\u0275vid"](0,[t["\u0275qud"](402653184,1,{video:0}),t["\u0275qud"](402653184,2,{canvas:0}),(n()(),t["\u0275eld"](2,0,null,null,4,"div",[["class","webcam-wrapper"]],null,[[null,"click"]],(function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.imageClick.next()&&t),t}),null,null)),(n()(),t["\u0275eld"](3,0,[[1,0],["video",1]],null,0,"video",[["autoplay",""],["muted",""],["playsinline",""]],[[8,"width",0],[8,"height",0],[8,"className",0]],[[null,"resize"]],(function(n,e,l){var t=!0;return"resize"===e&&(t=!1!==n.component.videoResize()&&t),t}),null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,o)),t["\u0275did"](5,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](6,0,[[2,0],["canvas",1]],null,0,"canvas",[],[[8,"width",0],[8,"height",0]],null,null,null,null))],(function(n,e){var l=e.component;n(e,5,0,l.allowCameraSwitch&&l.availableVideoInputs.length>1&&l.videoInitialized)}),(function(n,e){var l=e.component;n(e,3,0,l.videoWidth,l.videoHeight,l.videoStyleClasses),n(e,6,0,l.width,l.height)}))}var c=l("M3yp"),s=l("yPQq"),d=l("gJ2e");l.d(e,"a",(function(){return g})),l.d(e,"c",(function(){return f})),l.d(e,"b",(function(){return b}));var g=t["\u0275crt"]({encapsulation:0,styles:[[".webcam[_ngcontent-%COMP%]{text-align:center}"]],data:{}});function m(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"webcam",[],null,[[null,"imageCapture"],[null,"cameraSwitched"],[null,"initError"]],(function(n,e,l){var t=!0,i=n.component;return"imageCapture"===e&&(t=!1!==i.handleImage(l)&&t),"cameraSwitched"===e&&(t=!1!==i.cameraWasSwitched(l)&&t),"initError"===e&&(t=!1!==i.handleInitError(l)&&t),t}),u,r)),t["\u0275did"](1,4374528,null,0,i.a,[],{width:[0,"width"],height:[1,"height"],videoOptions:[2,"videoOptions"],allowCameraSwitch:[3,"allowCameraSwitch"],trigger:[4,"trigger"],switchCamera:[5,"switchCamera"]},{imageCapture:"imageCapture",initError:"initError",cameraSwitched:"cameraSwitched"})],(function(n,e){var l=e.component;n(e,1,0,500,500,l.videoOptions,l.allowCameraSwitch,l.triggerObservable,l.nextWebcamObservable)}),null)}function p(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),t["\u0275ted"](-1,null,["Messages:"]))],null,null)}function h(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,3,"ul",[],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,2,"li",[],null,null,null,null,null)),(n()(),t["\u0275ted"](2,null,["",""])),t["\u0275pid"](0,a.JsonPipe,[])],null,(function(n,e){n(e,2,0,t["\u0275unv"](e,2,0,t["\u0275nov"](e,3).transform(e.context.$implicit)))}))}function f(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,8,"div",[["class","webcam"]],null,null,null,null,null)),(n()(),t["\u0275eld"](1,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),t["\u0275and"](16777216,null,null,1,null,m)),t["\u0275did"](3,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275eld"](4,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),t["\u0275eld"](5,0,null,null,1,"button",[["class","btn btn-sm btn-warning"],["style","margin-right: 50px"]],null,[[null,"click"]],(function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.triggerSnapshotFoto()&&t),t}),null,null)),(n()(),t["\u0275ted"](-1,null,["TOMAR FOTOGRAFIA"])),(n()(),t["\u0275eld"](7,0,null,null,1,"button",[["class","btn btn-sm btn-warning"]],null,[[null,"click"]],(function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.triggerSnapshot()&&t),t}),null,null)),(n()(),t["\u0275ted"](-1,null,["INICIAR MONITOREO"])),(n()(),t["\u0275and"](16777216,null,null,1,null,p)),t["\u0275did"](10,16384,null,0,a.NgIf,[t.ViewContainerRef,t.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),t["\u0275and"](16777216,null,null,1,null,h)),t["\u0275did"](12,278528,null,0,a.NgForOf,[t.ViewContainerRef,t.TemplateRef,t.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(n,e){var l=e.component;n(e,3,0,l.showWebcam),n(e,10,0,l.errors.length>0),n(e,12,0,l.errors)}),null)}var b=t["\u0275ccf"]("app-ruta-gestion-reconocimiento-facial",c.a,(function(n){return t["\u0275vid"](0,[(n()(),t["\u0275eld"](0,0,null,null,1,"app-ruta-gestion-reconocimiento-facial",[],null,null,null,f,g)),t["\u0275did"](1,114688,null,0,c.a,[s.a,d.a],null,null)],(function(n,e){n(e,1,0)}),null)}),{},{datosObtenidos:"datosObtenidos",linkImagen:"linkImagen"},[])},M3yp:function(n,e,l){"use strict";l.d(e,"a",(function(){return o}));var t=l("8Y7J"),i=l("XNiG"),a=l("EpeG"),r=l("nYR2"),o=function(){function n(e,l){_classCallCheck(this,n),this._reconocimientoFacialService=e,this._angularFireStorage=l,this.datosObtenidos=new t.EventEmitter,this.linkImagen=new t.EventEmitter,this.showWebcam=!0,this.allowCameraSwitch=!0,this.multipleWebcamsAvailable=!1,this.videoOptions={width:{ideal:1024},height:{ideal:576}},this.errors=[],this.trigger=new i.a,this.nextWebcam=new i.a,this.tomarFotografia=!0}return _createClass(n,[{key:"ngOnInit",value:function(){var n=this;a.c.getAvailableVideoInputs().then((function(e){n.multipleWebcamsAvailable=e&&e.length>1}))}},{key:"obtenerInformacionFoto",value:function(n){var e=this;this._reconocimientoFacialService.tomarDatosDeServidor(n).subscribe((function(n){e.datosObtenidos.emit(n)}))}},{key:"triggerSnapshotFoto",value:function(){this.trigger.next()}},{key:"triggerSnapshot",value:function(){var n=this;this.trigger.next(),this.tomarFotografia&&setTimeout((function(){n.triggerSnapshot()}),2e4)}},{key:"handleInitError",value:function(n){this.errors.push(n)}},{key:"handleImage",value:function(n){var e=this;this.resultadoFoto="";var l=n.imageAsDataUrl;this.imagenUrl="";var t=Math.random().toString(36).substring(2),i=this._angularFireStorage.ref("test/profile_".concat(t));i.putString(l,"data_url").snapshotChanges().pipe(Object(r.a)((function(){e.urlImagenSubida=i.getDownloadURL()}))).subscribe((function(n){}),(function(n){console.error({mensaje:n})})),setTimeout((function(){e.urlImagenSubida.subscribe((function(n){e.imagenUrl=n,e.linkImagen.emit(n),e.obtenerInformacionFoto(n)}))}),5e3)}},{key:"cameraWasSwitched",value:function(n){this.deviceId=n}},{key:"triggerObservable",get:function(){return this.trigger.asObservable()}},{key:"nextWebcamObservable",get:function(){return this.nextWebcam.asObservable()}}]),n}()},TM2b:function(n,e,l){"use strict";l.d(e,"b",(function(){return t})),l.d(e,"a",(function(){return i}));var t={required:"Campo nombre es requerido",minlength:"Campo nombre debe tener minimo 3 letras",maxlength:"Campo nombre debe tener maximo 50 letras",pattern:"Debe tener solo letras."},i={required:"Campo apellido es requerido",minlength:"Campo apellido debe tener minimo 3 letras",maxlength:"Campo apellido debe tener maximo 50 letras",pattern:"Debe tener solo letras."}}}]);