function _possibleConstructorReturn(l,n){return!n||"object"!=typeof n&&"function"!=typeof n?_assertThisInitialized(l):n}function _assertThisInitialized(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function _getPrototypeOf(l){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(l)}function _inherits(l,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(n&&n.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),n&&_setPrototypeOf(l,n)}function _setPrototypeOf(l,n){return(_setPrototypeOf=Object.setPrototypeOf||function(l,n){return l.__proto__=n,l})(l,n)}function _defineProperties(l,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}function _createClass(l,n,e){return n&&_defineProperties(l.prototype,n),e&&_defineProperties(l,e),l}function _classCallCheck(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{PD8Q:function(l,n,e){"use strict";e.r(n);var t,u=e("8Y7J"),i=function l(){_classCallCheck(this,l)},o=e("pMnS"),a=e("SVse"),r=e("qIuG"),s=e("ZRSf"),c=e("hhfa"),d=function(){function l(n,e){_classCallCheck(this,l),this._dialogRef=n,this._datos=e}return _createClass(l,[{key:"ngOnInit",value:function(){this._datos&&(this.linkImagen=this._datos)}},{key:"escucharLinkImagen",value:function(l){this.linkImagen=l||void 0}},{key:"enviarDatosFormulario",value:function(){this._dialogRef.close(this.linkImagen)}},{key:"cancelarModal",value:function(){this._dialogRef.close()}}]),l}(),p=function(){function l(n,e,t,u,i,o){_classCallCheck(this,l),this._toasterService=n,this._actvidatedRoute=e,this._dialog=t,this._router=u,this._imagenPorEstudianteRestService=i,this._imagenRestService=o,this.estudiantes=[],this.columnas=[{field:"imagen",header:"IMAGEN"},{field:"id",header:"OPERACIONES"}]}return _createClass(l,[{key:"ngOnInit",value:function(){this.recuperarParametrosDeRuta(),this.listarEstudiantePorTaller()}},{key:"recuperarParametrosDeRuta",value:function(){var l=this;this._actvidatedRoute.params.subscribe((function(n){l.idTaller=+n.idTaller,l.idEstudiante=+n.idEstudiante}),(function(n){l._toasterService.pop({type:"error",title:"Error",body:"No se pude recuperar parametro de ruta.",timeout:1500,showCloseButton:!0})}))}},{key:"listarEstudiantePorTaller",value:function(){var l=this;this._imagenPorEstudianteRestService.obtenerImagenPorEstudiante(this.idEstudiante,0,5).subscribe((function(n){l.estudiantes=n.data,l.registrosTotales=n.cantidad}),(function(n){l._toasterService.pop({type:"error",title:"Error",body:"No se pudo listar hisotias de servicio.",timeout:1500,showCloseButton:!0})}))}},{key:"cargarMasDatos",value:function(l){var n=this;this._imagenPorEstudianteRestService.obtenerImagenPorEstudiante(this.idEstudiante,l.first,5).subscribe((function(l){n.estudiantes=l.data}),(function(l){n._toasterService.pop({type:"error",title:"Error",body:"No se pudo listar hisotias de servicio.",timeout:1500,showCloseButton:!0})}))}},{key:"abrirModalAgregar",value:function(){var l=this;this._dialog.open(d,{width:"550px",data:!1}).afterClosed().subscribe((function(n){n&&l.guardarImagen(n)}),(function(n){l._toasterService.pop({type:"error",title:"Error",body:"No se abrir modal taller.",timeout:1500,showCloseButton:!0})}))}},{key:"guardarImagen",value:function(l){var n=this;this._imagenRestService.guardar({url:l}).subscribe((function(l){n.guardarImagenPorEstudiante(l.id,n.idEstudiante)}),(function(l){}))}},{key:"guardarImagenPorEstudiante",value:function(l,n){var e=this;this._imagenPorEstudianteRestService.guardar({estudiante:n,imagen:l}).subscribe((function(l){e.listarEstudiantePorTaller(),e._toasterService.pop({type:"success",title:"Correcto",body:"Imagen guardada.",timeout:1500,showCloseButton:!0})}),(function(l){e._toasterService.pop({type:"error",title:"Error",body:"No guardo imagen.",timeout:1500,showCloseButton:!0})}))}},{key:"eliminarImagenEstudiante",value:function(l){var n=this;"object"==typeof l.imagen&&(this.idImagen=l.imagen.id),this._imagenPorEstudianteRestService.eliminar(l.id).subscribe((function(l){n.listarEstudiantePorTaller(),n.eliminarImagen(n.idImagen),n._toasterService.pop({type:"success",title:"Correcto",body:"Imagen eliminada.",timeout:1500,showCloseButton:!0})}),(function(l){n._toasterService.pop({type:"error",title:"Error",body:"No elimino imagen.",timeout:1500,showCloseButton:!0})}))}},{key:"eliminarImagen",value:function(l){this._imagenRestService.eliminar(l).subscribe((function(l){}),(function(l){}))}},{key:"irAModuloHijo",value:function(l,n){"object"==typeof l.estudiante&&this._router.navigate(["taller-modulo",this.idTaller,"estudiante-por-taller-modulo",l.estudiante.id,"".concat(n,"-modulo"),"gestion-".concat(n)])}}]),l}(),m=e("e9P1"),f=e("iInd"),g=e("s6ns"),h=e("kl8V"),v=e("cxbk"),b=e("IheW"),_=e("rI1k"),y=((t=function(l){function n(l,e){var t;return _classCallCheck(this,n),(t=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this,l,e)))._httpClient=l,t._authService=e,t.url=v.a.urlServidor+"imagen-por-estudiante",t.URL=v.a.urlServidor,t.segmento="imagen-por-estudiante",t}return _inherits(n,l),_createClass(n,[{key:"obtenerImagenPorEstudiante",value:function(l,n,e){return this._httpClient.get("".concat(this.url,"/listar/").concat(l,"?skip=").concat(n,"&take=").concat(e))}}]),n}(h.a)).ngInjectableDef=u["\u0275\u0275defineInjectable"]({factory:function(){return new t(u["\u0275\u0275inject"](b.c),u["\u0275\u0275inject"](_.a))},token:t,providedIn:"root"}),t),k=e("Ed+p"),R=u["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function I(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"th",[["id","cabeceraTabla"]],null,null,null,null,null)),(l()(),u["\u0275ted"](1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.context.$implicit.header)}))}function C(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,I)),u["\u0275did"](2,278528,null,0,a.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.columnas)}),null)}function E(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,0,"img",[["alt","imagen"],["width","200"]],[[8,"src",4]],null,null,null,null))],null,(function(l,n){l(n,1,0,u["\u0275inlineInterpolate"](1,"",n.parent.parent.context.$implicit[n.parent.context.$implicit.field].url,""))}))}function P(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,9,"div",[],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(l()(),u["\u0275eld"](2,0,null,null,3,"div",[["class","col-md-12 col-sm-12"]],null,null,null,null,null)),(l()(),u["\u0275eld"](3,0,null,null,2,"button",[["class","btn btn-sm btn-outline-info btn-block"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.irAModuloHijo(l.parent.parent.context.$implicit,"imagen-por-estudiante")&&t),t}),null,null)),(l()(),u["\u0275eld"](4,0,null,null,0,"i",[["class","pi pi-pencil"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" Tomar fotografia "])),(l()(),u["\u0275eld"](6,0,null,null,3,"div",[["class","col-md-12 col-sm-12"]],null,null,null,null,null)),(l()(),u["\u0275eld"](7,0,null,null,2,"button",[["class","btn btn-sm btn-outline-danger btn-block"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.eliminarImagenEstudiante(l.parent.parent.context.$implicit)&&t),t}),null,null)),(l()(),u["\u0275eld"](8,0,null,null,0,"i",[["class","pi pi-pencil"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" Eliminar "]))],null,null)}function w(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,4,"td",[],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,E)),u["\u0275did"](2,16384,null,0,a.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),u["\u0275and"](16777216,null,null,1,null,P)),u["\u0275did"](4,16384,null,0,a.NgIf,[u.ViewContainerRef,u.TemplateRef],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,"IMAGEN"===n.context.$implicit.header),l(n,4,0,"id"===n.context.$implicit.field)}),null)}function O(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),u["\u0275and"](16777216,null,null,1,null,w)),u["\u0275did"](2,278528,null,0,a.NgForOf,[u.ViewContainerRef,u.TemplateRef,u.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.columnas)}),null)}function T(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,2,"tr",[],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,1,"td",[],[[1,"colspan",0]],null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" No hay registros "]))],null,(function(l,n){l(n,1,0,n.component.columnas.length)}))}function M(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,6,"div",[["class","container"]],null,null,null,null,null)),(l()(),u["\u0275eld"](1,0,null,null,5,"div",[["class","row justify-content-between"]],null,null,null,null,null)),(l()(),u["\u0275eld"](2,0,null,null,0,"div",[["class","col-sm-4 col-md-4"]],null,null,null,null,null)),(l()(),u["\u0275eld"](3,0,null,null,3,"div",[["class","col-sm-4 col-md-5"]],null,null,null,null,null)),(l()(),u["\u0275eld"](4,0,null,null,2,"button",[["class","btn btn-sm btn-outline-info btn-block"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.abrirModalAgregar()&&t),t}),null,null)),(l()(),u["\u0275eld"](5,0,null,null,0,"i",[["class","pi pi-plus"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" CREAR "])),(l()(),u["\u0275eld"](7,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),u["\u0275eld"](8,0,null,null,10,"div",[["class","container"]],null,null,null,null,null)),(l()(),u["\u0275eld"](9,0,null,null,9,"p-table",[],null,[[null,"onLazyLoad"]],(function(l,n,e){var t=!0;return"onLazyLoad"===n&&(t=!1!==l.component.cargarMasDatos(e)&&t),t}),r.f,r.a)),u["\u0275prd"](512,null,s.m,s.m,[]),u["\u0275did"](11,6012928,null,1,s.g,[u.ElementRef,u.NgZone,s.m,u.ChangeDetectorRef],{paginator:[0,"paginator"],lazy:[1,"lazy"],responsive:[2,"responsive"],value:[3,"value"],rows:[4,"rows"],totalRecords:[5,"totalRecords"]},{onLazyLoad:"onLazyLoad"}),u["\u0275qud"](603979776,1,{templates:1}),(l()(),u["\u0275and"](0,null,null,1,null,C)),u["\u0275did"](14,16384,[[1,4]],0,c.b,[u.TemplateRef],{name:[0,"name"]},null),(l()(),u["\u0275and"](0,null,null,1,null,O)),u["\u0275did"](16,16384,[[1,4]],0,c.b,[u.TemplateRef],{name:[0,"name"]},null),(l()(),u["\u0275and"](0,null,null,1,null,T)),u["\u0275did"](18,16384,[[1,4]],0,c.b,[u.TemplateRef],{name:[0,"name"]},null)],(function(l,n){var e=n.component;l(n,11,0,!0,!0,!0,e.estudiantes,5,e.registrosTotales),l(n,14,0,"header"),l(n,16,0,"body"),l(n,18,0,"emptymessage")}),null)}var S=u["\u0275ccf"]("app-ruta-gestion-imagen-por-estudiante",p,(function(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"app-ruta-gestion-imagen-por-estudiante",[],null,null,null,M,R)),u["\u0275did"](1,114688,null,0,p,[m.a,f.ActivatedRoute,g.e,f.Router,y,k.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),N=e("t68o"),j=e("JWQZ"),A=e("M3yp"),F=e("yPQq"),L=e("gJ2e"),D=u["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function z(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["TOMAR FOTOGRAFIA ESTUDIANTE"])),(l()(),u["\u0275eld"](2,0,null,null,1,"app-ruta-gestion-reconocimiento-facial",[],null,[[null,"linkImagen"]],(function(l,n,e){var t=!0;return"linkImagen"===n&&(t=!1!==l.component.escucharLinkImagen(e)&&t),t}),j.c,j.a)),u["\u0275did"](3,114688,null,0,A.a,[F.a,L.a],null,{linkImagen:"linkImagen"}),(l()(),u["\u0275eld"](4,0,null,null,9,"div",[["class","row justify-content-lg-end mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),u["\u0275did"](5,16384,null,0,g.f,[],null,null),(l()(),u["\u0275eld"](6,0,null,null,3,"div",[["style","padding-right: 1rem"]],null,null,null,null,null)),(l()(),u["\u0275eld"](7,0,null,null,2,"button",[["class","btn btn-outline-dark"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.cancelarModal()&&t),t}),null,null)),(l()(),u["\u0275eld"](8,0,null,null,0,"i",[["class","pi pi-times"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,["CANCELAR "])),(l()(),u["\u0275eld"](10,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),u["\u0275eld"](11,0,null,null,2,"button",[["class","btn btn-success"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.enviarDatosFormulario()&&t),t}),null,null)),(l()(),u["\u0275eld"](12,0,null,null,0,"i",[["class","pi pi-save"]],null,null,null,null,null)),(l()(),u["\u0275ted"](-1,null,[" ACEPTAR "]))],(function(l,n){l(n,3,0)}),(function(l,n){l(n,11,0,!n.component.linkImagen)}))}var x=u["\u0275ccf"]("app-crear-editar-imagen-por-estudiante",d,(function(l){return u["\u0275vid"](0,[(l()(),u["\u0275eld"](0,0,null,null,1,"app-crear-editar-imagen-por-estudiante",[],null,null,null,z,D)),u["\u0275did"](1,114688,null,0,d,[g.k,g.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),B=e("s7LF"),V=e("QQfA"),$=e("IP0z"),G=function l(){_classCallCheck(this,l)},J=e("/HVE"),Q=e("hOhj"),U=e("GX/v"),H=e("y1st"),Y=e("MY3+"),Z=e("zMNK"),q=e("Xd0L"),W=e("cUpR"),X=e("A+E5"),K=e("EpeG"),ll=e("1kYY");e.d(n,"ImagenPorEstudianteModuleNgFactory",(function(){return nl}));var nl=u["\u0275cmf"](i,[],(function(l){return u["\u0275mod"]([u["\u0275mpd"](512,u.ComponentFactoryResolver,u["\u0275CodegenComponentFactoryResolver"],[[8,[o.a,S,N.a,j.b,x]],[3,u.ComponentFactoryResolver],u.NgModuleRef]),u["\u0275mpd"](4608,a.NgLocalization,a.NgLocaleLocalization,[u.LOCALE_ID,[2,a["\u0275angular_packages_common_common_a"]]]),u["\u0275mpd"](4608,B["\u0275angular_packages_forms_forms_o"],B["\u0275angular_packages_forms_forms_o"],[]),u["\u0275mpd"](4608,V.c,V.c,[V.i,V.e,u.ComponentFactoryResolver,V.h,V.f,u.Injector,u.NgZone,a.DOCUMENT,$.b,[2,a.Location]]),u["\u0275mpd"](5120,V.j,V.k,[V.c]),u["\u0275mpd"](5120,g.c,g.d,[V.c]),u["\u0275mpd"](135680,g.e,g.e,[V.c,u.Injector,[2,a.Location],[2,g.b],g.c,[3,g.e],V.e]),u["\u0275mpd"](4608,B.FormBuilder,B.FormBuilder,[]),u["\u0275mpd"](1073742336,a.CommonModule,a.CommonModule,[]),u["\u0275mpd"](1073742336,f.RouterModule,f.RouterModule,[[2,f["\u0275angular_packages_router_router_a"]],[2,f.Router]]),u["\u0275mpd"](1073742336,G,G,[]),u["\u0275mpd"](1073742336,c.c,c.c,[]),u["\u0275mpd"](1073742336,$.a,$.a,[]),u["\u0275mpd"](1073742336,J.b,J.b,[]),u["\u0275mpd"](1073742336,Q.g,Q.g,[]),u["\u0275mpd"](1073742336,U.b,U.b,[]),u["\u0275mpd"](1073742336,H.c,H.c,[]),u["\u0275mpd"](1073742336,B["\u0275angular_packages_forms_forms_d"],B["\u0275angular_packages_forms_forms_d"],[]),u["\u0275mpd"](1073742336,B.FormsModule,B.FormsModule,[]),u["\u0275mpd"](1073742336,Y.b,Y.b,[]),u["\u0275mpd"](1073742336,s.k,s.k,[]),u["\u0275mpd"](1073742336,Z.g,Z.g,[]),u["\u0275mpd"](1073742336,V.g,V.g,[]),u["\u0275mpd"](1073742336,q.i,q.i,[[2,q.c],[2,W.HAMMER_LOADER]]),u["\u0275mpd"](1073742336,g.j,g.j,[]),u["\u0275mpd"](1073742336,B.ReactiveFormsModule,B.ReactiveFormsModule,[]),u["\u0275mpd"](1073742336,X.a,X.a,[]),u["\u0275mpd"](1073742336,K.b,K.b,[]),u["\u0275mpd"](1073742336,ll.a,ll.a,[]),u["\u0275mpd"](1073742336,i,i,[]),u["\u0275mpd"](1024,f.ROUTES,(function(){return[[{path:"gestion-imagen-por-estudiante",component:p},{path:"",redirectTo:"gestion-imagen-por-estudiante",pathMatch:"full"}],[{path:"gestion-reconocimiento-facil",component:A.a},{path:"",redirectTo:"gestion-reconocimiento-facil",pathMatch:"full"}]]}),[])])}))}}]);